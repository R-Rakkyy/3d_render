<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Render</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/toggle.css">
</head>


<body>
    <div id="app-container">
        <main id="main-content">
            <div id="top-bar">
                <select id="function-axis-select" disabled>
                    <option value="z">f(z)=</option>
                    <option value="y">f(y)=</option>
                    <option value="x">f(x)=</option>
                </select>
                <input type="text" id="function-input" placeholder="Enter a function, i.e: Math.sin(x / 10) * Math.cos(y / 10) * 20 + t">
                <select id="function-presets"></select>
            </div>
            <div id="render-container">
                <canvas id="render"></canvas>
            </div>
            <div id="stats"></div>
        </main>
        <aside id="settings-panel">
            <h2>Settings</h2>
            <button id="help-button">?</button>
            <div id="help-modal" class="hidden" role="dialog" aria-modal="true" aria-labelledby="help-title">
                <h3 id="help-title">Shortcuts</h3>
                <div class="help-body">
                    <div class="help-section">
                        <h4>Presets & Mode</h4>
                        <dl>
                            <dt>F</dt><dd>Next function preset</dd>
                            <dt>G</dt><dd>Previous function preset</dd>
                            <dt>C</dt><dd>Toggle Complex Mode</dd>
                            <dt>Y</dt><dd>Cycle render mode</dd>
                        </dl>
                    </div>
                    <div class="help-section">
                        <h4>Input & Focus</h4>
                        <dl>
                            <dt>T / Enter</dt><dd>Focus function input</dd>
                            <dt>Tab / H</dt><dd>Focus & lock/unlock canvas</dd>
                            <dt>Escape</dt><dd>Release focus/cursor</dd>
                        </dl>
                    </div>
                    <div class="help-section">
                        <h4>Navigation</h4>
                        <dl>
                            <dt>ZQSD / WASD</dt><dd>Move camera</dd>
                            <dt>Arrow Keys</dt><dd>Rotate shape</dd>
                        </dl>
                    </div>
                    <div class="help-section">
                        <h4>Adjustments</h4>
                        <dl>
                            <dt>+ / -</dt><dd>Expand / Shrink X/Y boundaries</dd>
                            <dt>Ctrl + +/-</dt><dd>Adjust Nx/Ny</dd>
                            <dt>Ctrl + Arrow Keys</dt><dd>Adjust boundaries</dd>
                        </dl>
                    </div>
                </div>
            </div>
            <table>
                <tr>
                    <td><button id="reset-camera">Reset Camera</button></td>
                    <td><button id="reset-shape">Reset Shape</button></td>
                </tr>
                <tr>
                    <td><label for="fps-select">Max FPS</label></td>
                    <td>
                        <select id="fps-select">
                            <option value="30">30</option>
                            <option value="45">45</option>
                            <option value="74" selected>74</option>
                            <option value="120">120</option>
                            <option value="500">500</option>
                        </select>
                    </td>
                </tr>
                <tr><td colspan="2"><hr></td></tr>
                <tr>
                    <td><label for="nx-slider">Nx: <span id="nx-value">47</span></label></td>
                    <td><input type="range" id="nx-slider" min="2" max="200" value="47"></td>
                </tr>
                <tr>
                    <td><label for="ny-slider">Ny: <span id="ny-value">47</span></label></td>
                    <td><input type="range" id="ny-slider" min="2" max="200" value="47"></td>
                </tr>
                <tr>
                    <td><label for="x-min-slider">X Range</label></td>
                    <td>
                        <div style="display:flex;align-items:center;gap:6px;">
                            <span id="x-min-display">-50</span>
                            <input type="range" id="x-min-slider" min="-500" max="500" step="1" value="-50">
                            <input type="range" id="x-max-slider" min="-500" max="500" step="1" value="50">
                            <span id="x-max-display">50</span>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label for="y-min-slider">Y Range</label></td>
                    <td>
                        <div style="display:flex;align-items:center;gap:6px;">
                            <span id="y-min-display">-50</span>
                            <input type="range" id="y-min-slider" min="-500" max="500" step="1" value="-50">
                            <input type="range" id="y-max-slider" min="-500" max="500" step="1" value="50">
                            <span id="y-max-display">50</span>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><label for="depth-scale-slider">Depth Scale: <span id="depth-scale-value">1</span></label></td>
                    <td><input type="range" id="depth-scale-slider" min="0.05" max="3" value="1" step="0.05"></td>
                </tr>
                <tr><td colspan="2"><hr></td></tr>
                <tr>
                    <td><label>Dynamic Width</label></td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" id="linewidth-toggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr>
                    <td><label>Grid</label></td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" id="grid-toggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr>
                    <td><label>Compass</label></td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" id="compass-toggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr><td colspan="2"><hr></td></tr>
                <tr>
                    <td><label>Z Coloring</label></td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" id="z-coloring-toggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr>
                    <td><label>Display Vertex Points</label></td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" id="display-points-toggle">
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr><td colspan="2"><hr></td></tr>
                <tr>
                    <td><label>Function Type</label></td>
                    <td>
                        <div class="toggle-switch">
                            <span class="toggle-label">Real</span>
                            <label class="switch">
                                <input type="checkbox" id="function-type-toggle">
                                <span class="slider round"></span>
                            </label>
                            <span class="toggle-label">Complex</span>
                        </div>
                    </td>
                </tr>
                <tr><td colspan="2"><hr></td></tr>
                <tr>
                    <td><label>Depth Smoother</label></td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" id="depth-smoother-toggle">
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr>
                    <td><label for="depth-smoother-slider">Smoother Factor: <span id="depth-smoother-value">0.5</span></label></td>
                    <td><input type="range" id="depth-smoother-slider" min="0" max="1" step="0.01" value="0.5"></td>
                </tr>
                <tr>
                    <td><label for="render-type-select">Render Type</label></td>
                    <td>
                        <select id="render-type-select">
                            <option value="line">Line</option>
                            <option value="triangle">Triangle</option>
                            <option value="solid">Solid</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><label>Multi Process</label></td>
                    <td>
                        <label class="switch">
                            <input type="checkbox" id="multi-process-toggle" disabled>
                            <span class="slider round"></span>
                        </label>
                    </td>
                </tr>
                <tr>
                    <td><label for="multi-process-slider">Workers: <span id="multi-process-value">2</span></label></td>
                    <td><input type="range" id="multi-process-slider" min="2" max="100" value="2" disabled></td>
                </tr>
            </table>
        </aside>
    </div>

    <script src="libs/perlin.js"></script>
    <script src="src/camera.js"></script>
    <script src="src/shape.js"></script>
    <script src="src/3d.js"></script>
    <script src="src/utils/canvas_utils.js"></script>
    <script src="src/utils/dom_utils.js"></script>
    <script src="src/utils/input_utils.js"></script>
    <script src="src/utils/parser_utils.js"></script>
    <script src="src/utils/page_utils.js"></script>

    <script src="src/complex.js"></script>
    <script src="src/function_manager.js"></script>
    
    <script src="src/index.js"></script>
</body>

</html>